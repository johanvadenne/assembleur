Win32 App
DialogApp
Dialog application
[*BEGINPRO*]
[*BEGINDEF*]
[MakeDef]
Menu=1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0
1=
2=5,O,fpc -WG,2
3=
4=0,0,,5
5=
6=
7=0,0,"$E\OllyDbg",5
11=
12=5,O,fpc -WG,2
13=
14=0,0,,5
15=
16=
17=0,0,"$E\OllyDbg",5
[MakeFiles]
0=DialogApp.rap
1=DialogApp.rc
2=DialogApp.pas
3=DialogApp.obj
4=DialogApp.res
5=DialogApp.exe
6=DialogApp.def
7=DialogApp.dll
8=DialogApp.txt
9=DialogApp.lib
10=DialogApp.mak
[Resource]
[StringTable]
[Accel]
[VerInf]
[Group]
Group=Added files,Assembly,Resources,Misc,Modules
1=1
2=
3=1
4=1
[*ENDDEF*]
[*BEGINTXT*]
DialogApp.pas

{
Dialogbox Template by: Edwin Pelleng
e-mail: ewin_p@eprojex.890m.com
Compile parameters: fpc.exe -WG dialogapp.pas
}

{$MODE DELPHI}
{$R dialogapp.rc}
{$APPTYPE GUI}

Program DialogApp;
uses
Windows;

type
	pt=record
		x:Integer;
		y:Integer;
	End;

const
	IDC_BTN1=1001;

var
	hinstance:HANDLE;
	p:pt;

Function DlgProc (Window:HWND;AMessage:UINT;WParam : WPARAM; LParam:LPARAM):LResult;StdCall;Export;
Var
	nrmenu:LongInt;
	trect:RECT;
	x,y:Integer;
	hBtn:HWND;

Begin
	Case AMessage Of
	WM_CLOSE:
		Begin
		EndDialog(Window,0);
		End;
 	WM_COMMAND:
		Begin
			NrMenu := WParam And $FFFF;
			Case NrMenu Of
			IDC_BTN1:
				Begin
					MessageBox (Window, 'Hello world, hello pascal!' , 'FreePascal', MB_OK);
					EndDialog(Window,0);
				End;
			End;
		End;
	WM_SIZE:
	    Begin
			GetClientRect(Window,trect);
			hBtn:=GetDlgItem(Window,IDC_BTN1);
			x:=trect.right-100;
			y:=trect.bottom-35;
			MoveWindow(hBtn,x,y,82,22,TRUE);
	    End;
	WM_NULL:
		Begin
			DlgProc := DefDlgProc(Window,AMessage,WParam,LParam);
		End;
	End;
	DlgProc := 0;
End;

Begin
	hinstance:=GetModuleHandle(NIL);
	DialogBoxParam(hinstance, 'MAIN',0, DlgProc, 0);   //execute the MAIN dialog
	ExitProcess(0);
end.
[*ENDTXT*]
[*BEGINBIN*]
DialogApp.dlg
6500000001000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
00000000000000005461686F6D61000000000000000000000000000000000000
000000000000000009000000F4FFFFFF00000000E90300000000000000000000
0000000000000000BE0F0A2D00009001F407350000000000BDE941003E073000
000000000000CF10000000000A0000000A0000002C010000C80000004469616C
6F67000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000004D4149
4E00000000000000000000000000000000000000000000000000000000000000
00000000002007220000000000DD06FFFFF40735000000000000000150000000
00C3000000900000005000000015000000436C69636B206D6521000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000040000000400000000000000E90300004944435F42544E31000000000000
0000000000000000000000000000000000000000000000000000
[*ENDBIN*]
[*BEGINTXT*]
DialogApp.rc
#include "Res/DialogAppDlg.rc"
[*ENDTXT*]
[*ENDPRO*]
[*BEGINTXT*]
Res\DialogAppDlg.rc
#define IDC_BTN1 1001
MAIN DIALOGEX 6,6,194,106
CAPTION "IDD_DLG"
FONT 8,"MS Sans Serif",0,0
STYLE 0x10CF0800
BEGIN
  CONTROL "Click here!",IDC_BTN1,"Button",0x50010000,128,86,54,13
END
[*ENDTXT*]
